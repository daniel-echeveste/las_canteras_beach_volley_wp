import{r as o,j as e,S as j,x as u}from"./app-B1aaPueH.js";import{N}from"./Navbar-DI3JNp93.js";function w({post:r}){const[n,c]=o.useState({}),[d,m]=o.useState(!1),[h,p]=o.useState(!1),[x,l]=o.useState(null),i=(t,a)=>{c(s=>({...s,[t]:a}))},g=async t=>{t.preventDefault(),m(!0),l(null);try{const a=await fetch(route("tournament.register",r.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify(n)}),s=await a.json();a.ok?(p(!0),c({})):l(s.message||"Error al enviar el formulario")}catch{l("Error al enviar el formulario. Por favor, int茅ntalo de nuevo.")}finally{m(!1)}},b=t=>{const a="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#1CA9C9] focus:ring-[#1CA9C9]";switch(t.type){case"textarea":return e.jsx("textarea",{value:n[t.name]||"",onChange:s=>i(t.name,s.target.value),required:t.required,rows:"4",className:a});case"select":return e.jsxs("select",{value:n[t.name]||"",onChange:s=>i(t.name,s.target.value),required:t.required,className:a,children:[e.jsx("option",{value:"",children:"Selecciona una opci贸n"}),t.options&&t.options.map((s,v)=>e.jsx("option",{value:s,children:s},v))]});default:return e.jsx("input",{type:t.type,value:n[t.name]||"",onChange:s=>i(t.name,s.target.value),required:t.required,className:a})}};return e.jsxs(e.Fragment,{children:[e.jsx(j,{title:`${r.title} - Las Canteras V贸ley`}),e.jsxs("div",{className:"min-h-screen bg-[#FFF8E8] text-gray-900 font-sans",children:[e.jsx(N,{}),e.jsxs("div",{className:"pt-24 max-w-4xl mx-auto px-6 pb-12",children:[e.jsxs(u,{href:"/blog",className:"inline-flex items-center text-[#1CA9C9] hover:text-[#158BA8] font-semibold mb-6 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Volver al Blog"]}),e.jsxs("article",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"px-8 pt-6",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-sm font-semibold rounded-full ${r.post_type==="noticia"?"bg-blue-100 text-blue-800":r.post_type==="evento"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"}`,children:r.post_type==="noticia"?" Noticia":r.post_type==="evento"?" Evento":" Torneo"})}),r.image_path&&e.jsx("img",{src:`/storage/${r.image_path}`,alt:r.title,className:"w-full h-96 object-cover"}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-4",children:new Date(r.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}),r.post_type==="evento"&&r.event_date&&e.jsx("div",{className:"mb-6 p-4 bg-purple-50 border-l-4 border-purple-500 rounded",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-purple-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-purple-800",children:"Fecha del Evento"}),e.jsx("div",{className:"text-lg font-bold text-purple-900",children:new Date(r.event_date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-6",children:r.title}),e.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed whitespace-pre-wrap mb-8",children:r.content}),r.post_type==="torneo"&&r.form_fields&&r.form_fields.length>0&&e.jsxs("div",{className:"mt-8 border-t pt-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inscripci贸n al Torneo"}),h?e.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-800",children:"隆Inscripci贸n enviada correctamente!"}),e.jsx("p",{className:"text-sm text-green-700",children:"Recibir谩s una confirmaci贸n en tu email."})]})]})}):e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[r.form_fields.map((t,a)=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[t.label,t.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),b(t)]},a)),x&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-800",children:x})}),e.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-3 bg-[#1CA9C9] text-white rounded-lg font-semibold hover:bg-[#158BA8] transition-colors duration-200 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Enviando...":"Enviar Inscripci贸n"})]})]})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(u,{href:"/blog",className:"inline-block px-6 py-3 bg-[#1CA9C9] text-white rounded-lg font-semibold hover:bg-[#158BA8] transition-colors duration-200 shadow-md",children:"Ver m谩s noticias"})})]})]})]})}export{w as default};

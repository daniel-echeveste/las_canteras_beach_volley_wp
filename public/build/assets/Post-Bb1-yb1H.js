import{r as o,j as e,S as b,x as h}from"./app-DRmdDcQa.js";import{N as f}from"./Navbar-TBZsms0Q.js";function w({post:t}){const[n,c]=o.useState({}),[d,m]=o.useState(!1),[u,p]=o.useState(!1),[x,l]=o.useState(null),i=(r,a)=>{c(s=>({...s,[r]:a}))},g=async r=>{r.preventDefault(),m(!0),l(null);try{const a=await fetch(route("tournament.register",t.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').content},body:JSON.stringify(n)}),s=await a.json();a.ok?(p(!0),c({})):l(s.message||"Error al enviar el formulario")}catch{l("Error al enviar el formulario. Por favor, inténtalo de nuevo.")}finally{m(!1)}},v=r=>{const a="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-[#1CA9C9] focus:ring-[#1CA9C9]";switch(r.type){case"textarea":return e.jsx("textarea",{value:n[r.name]||"",onChange:s=>i(r.name,s.target.value),required:r.required,rows:"4",className:a});case"select":return e.jsxs("select",{value:n[r.name]||"",onChange:s=>i(r.name,s.target.value),required:r.required,className:a,children:[e.jsx("option",{value:"",children:"Selecciona una opción"}),r.options&&r.options.map((s,j)=>e.jsx("option",{value:s,children:s},j))]});default:return e.jsx("input",{type:r.type,value:n[r.name]||"",onChange:s=>i(r.name,s.target.value),required:r.required,className:a})}};return e.jsxs(e.Fragment,{children:[e.jsx(b,{title:`${t.title} - Las Canteras Vóley`}),e.jsxs("div",{className:"min-h-screen bg-[#FFF8E8] text-gray-900 font-sans",children:[e.jsx(f,{}),e.jsxs("div",{className:"pt-24 max-w-4xl mx-auto px-6 pb-12",children:[e.jsxs(h,{href:"/blog",className:"inline-flex items-center text-[#1CA9C9] hover:text-[#158BA8] font-semibold mb-6 transition-colors",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Volver al Blog"]}),e.jsxs("article",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[e.jsx("div",{className:"px-8 pt-6",children:e.jsxs("span",{className:`px-3 py-1 inline-flex items-center text-sm font-semibold rounded-full gap-2 ${t.post_type==="noticia"?"bg-blue-100 text-blue-800":t.post_type==="evento"?"bg-purple-100 text-purple-800":"bg-orange-100 text-orange-800"}`,children:[t.post_type==="noticia"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),t.post_type==="evento"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),t.post_type==="torneo"&&e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),t.post_type==="noticia"?"Noticia":t.post_type==="evento"?"Evento":"Torneo"]})}),t.image_path&&e.jsx("img",{src:`/storage/${t.image_path}`,alt:t.title,className:"w-full h-96 object-cover"}),e.jsxs("div",{className:"p-8",children:[e.jsx("div",{className:"text-sm text-gray-500 mb-4",children:new Date(t.created_at).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})}),t.post_type==="evento"&&t.event_date&&e.jsx("div",{className:"mb-6 p-4 bg-purple-50 border-l-4 border-purple-500 rounded",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-purple-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-purple-800",children:"Fecha del Evento"}),e.jsx("div",{className:"text-lg font-bold text-purple-900",children:new Date(t.event_date).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})}),e.jsx("h1",{className:"text-4xl font-extrabold text-gray-900 mb-6",children:t.title}),e.jsx("div",{className:"prose prose-lg max-w-none text-gray-700 leading-relaxed whitespace-pre-wrap mb-8",children:t.content}),t.post_type==="torneo"&&t.has_form&&t.form_fields&&t.form_fields.length>0&&e.jsxs("div",{className:"mt-8 border-t pt-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inscripción al Torneo"}),u?e.jsx("div",{className:"bg-green-50 border-l-4 border-green-500 p-4 rounded",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-6 h-6 text-green-600 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-green-800",children:"¡Inscripción enviada correctamente!"}),e.jsx("p",{className:"text-sm text-green-700",children:"Recibirás una confirmación en tu email."})]})]})}):e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[t.form_fields.map((r,a)=>e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[r.label,r.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),v(r)]},a)),x&&e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-800",children:x})}),e.jsx("button",{type:"submit",disabled:d,className:"w-full px-6 py-3 bg-[#1CA9C9] text-white rounded-lg font-semibold hover:bg-[#158BA8] transition-colors duration-200 shadow-md disabled:opacity-50 disabled:cursor-not-allowed",children:d?"Enviando...":"Enviar Inscripción"})]})]})]})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsx(h,{href:"/blog",className:"inline-block px-6 py-3 bg-[#1CA9C9] text-white rounded-lg font-semibold hover:bg-[#158BA8] transition-colors duration-200 shadow-md",children:"Ver más noticias"})})]})]})]})}export{w as default};
